@tailwind base;
@tailwind components;
@tailwind utilities;

/* --- Patch de sûreté : garantit l'existence de .font-display (peut être retiré plus tard) --- */
@layer utilities {
  .font-display { font-family: "Fredoka","Nunito",system-ui,sans-serif; }
}
  .font-sans {
      font-family: "Nunito", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif !important;
}

/* --- Base typographique & layout --- */
@layer base {
  html { scroll-behavior: smooth; }
  body { @apply font-sans text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-900; font-family: "Nunito", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif; }
  /* Titres unifiés (pas de classes locales sur chaque Hx) */
  h1 { @apply font-display font-bold text-4xl md:text-6xl leading-tight tracking-[0.01em]; }
  h2 { @apply font-display font-bold text-4xl md:text-[2.75rem] leading-snug tracking-tight; }
  h3 { @apply font-display font-semibold text-3xl md:text-[2.125rem]; }
  h4 { @apply font-display font-normal text-2xl md:text-[1.8rem]; }
  p  { @apply leading-7 text-[15px] md:text-base; }

  /* Rythme vertical global */
  h1, h2, h3, h4 { @apply mb-2; }
  section    { @apply py-16 md:py-24; }

  /* Liens par défaut */
  a { @apply underline-offset-2 decoration-transparent transition; }
  a:hover { @apply decoration-current; }
}

/* --- Composants utilitaires (réutilisables) --- */
@layer components {
  .container-pg { @apply max-w-6xl mx-auto px-4 sm:px-6; }

  /* Boutons */
  .btn         { @apply inline-flex items-center justify-center px-5 py-2.5 rounded-full font-semibold transition focus:outline-none focus-visible:ring-2 focus-visible:ring-brand disabled:opacity-50 disabled:pointer-events-none; }
  .btn-primary { @apply btn bg-brand text-white hover:bg-indigo-600 shadow-soft; }
  .btn-accent  { @apply btn bg-accent text-white hover:bg-orange-500 shadow-soft; }
  .btn-ghost   { @apply btn bg-white text-gray-900 border border-gray-200 hover:bg-gray-50; }
  .btn-outline { @apply btn bg-transparent text-gray-900 border border-gray-300 hover:bg-gray-50 dark:text-gray-100 dark:border-white/20; }

  /* Cartes & badges */
  .card      { @apply rounded-2xl bg-white/90 dark:bg-white/10 border border-white/70 dark:border-white/20 shadow-card; }
  .badge-stk { @apply inline-block rounded-sticker px-3 py-1 text-xs font-semibold bg-emerald-100 text-emerald-700; }

  /* Formulaires */
  .label { @apply block text-sm font-medium mb-1; }
  .help  { @apply text-xs text-gray-500 mt-1; }
  .input, .select, .textarea {
    @apply w-full rounded-xl border border-gray-300 bg-white text-gray-900 dark:bg-gray-800 dark:text-gray-100 dark:border-white/20
           px-3 py-2 outline-none focus:ring-2 focus:ring-brand;
  }

  /* Petites chips (filtres Galerie) */
  .chip { @apply inline-flex items-center rounded-full border border-gray-200 px-3 py-1 text-sm bg-white hover:bg-gray-50; }
}

/* --- Accessibilité & motion --- */
.sr-only {
  position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;
}
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; scroll-behavior: auto !important; }
}
